<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="http://zhulida.com/feed.xml" rel="self" type="application/atom+xml" /><link href="http://zhulida.com/" rel="alternate" type="text/html" /><updated>2021-04-28T17:37:21+08:00</updated><id>http://zhulida.com/feed.xml</id><title type="html">zld</title><subtitle>Just a Blog</subtitle><author><name>Riccardo Graziosi</name></author><entry><title type="html">å¾®ä¿¡å°ç¨‹åºè·³è½¬Appæ—¶ï¼Œapp-parameterä¿¡æ¯çš„ä¼ é€’ç ”ç©¶</title><link href="http://zhulida.com/ios/2019/03/26/wechat-miniprogram-jump-to-app.html" rel="alternate" type="text/html" title="å¾®ä¿¡å°ç¨‹åºè·³è½¬Appæ—¶ï¼Œapp-parameterä¿¡æ¯çš„ä¼ é€’ç ”ç©¶" /><published>2019-03-26T16:28:29+08:00</published><updated>2019-03-26T16:28:29+08:00</updated><id>http://zhulida.com/ios/2019/03/26/wechat-miniprogram-jump-to-app</id><content type="html" xml:base="http://zhulida.com/ios/2019/03/26/wechat-miniprogram-jump-to-app.html">&lt;h2 id=&quot;é—®é¢˜æè¿°&quot;&gt;é—®é¢˜æè¿°&lt;/h2&gt;

&lt;p&gt;å¾®ä¿¡çš„å°ç¨‹åºåœ¨è·³è½¬Appæ—¶ï¼Œæ˜¯å¯ç”¨é€šè¿‡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app-parameter&lt;/code&gt;æ¥ä¼ é€’ä¸€äº›é¢å¤–ä¿¡æ¯&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;launchApp&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;additionalInfoxxxxx&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;binderror&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;launchAppError&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;æ‰“å¼€APP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/button&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†æˆ‘ä»¬åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AppDelegate&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;- (BOOL)application:openURL:sourceApplication:annotation:&lt;/code&gt; ä¸­æ‰“æ–­ç‚¹åï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰æ²¡ä»€ä¹ˆä¿¡æ¯é‡çš„urlå’Œä¸ºnilçš„annotationï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/media//15535935678385.jpg&quot; alt=&quot;-w406&quot; /&gt;&lt;/p&gt;

&lt;p&gt;urlçš„schemeä¸ºAppæ³¨å†Œçš„å›ºå®šçš„å¾®ä¿¡schemeï¼Œannotationä¸ºnilï¼Œå¯è§æ²¡æœ‰ä»»ä½•å…¶ä»–æ¶ˆæ¯&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‰ç…§å¾®ä¿¡çš„æ–‡æ¡£æ¥å®ç°è·å–å‚æ•°ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WXApi&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;handleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WechatSDKDelegate&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sharedInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// WechatSDKDelegate&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;onReq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BaseReq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;req&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;isKindOfClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LaunchFromWXReq&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;LaunchFromWXReq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;launchReq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appParameter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;launchReq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;messageExt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// do sth bellow&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onReq:&lt;/code&gt; ç«Ÿç„¶èƒ½å–åˆ°ç»“æ„å¾ˆå¤æ‚çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;req&lt;/code&gt;ï¼Œè€Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;req.message.messageExt&lt;/code&gt; å°±æ˜¯æˆ‘ä»¬ä»å°ç¨‹åºä¸­ä¼ è¿‡æ¥çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app-parameter&lt;/code&gt;ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†ä¸€ä¸ªå¾ˆç®€çŸ­çš„urlï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–ä¿¡æ¯äº†ï¼Œè¿™ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;messageExt&lt;/code&gt; çš„å†…å®¹æ˜¯ä»å“ªé‡Œè·å–çš„å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;çŒœæµ‹&quot;&gt;çŒœæµ‹&lt;/h2&gt;

&lt;p&gt;ç»è¿‡å’ŒåŒäº‹è®¨è®ºï¼ŒçŒœæµ‹äº†å‡ ç§å¯èƒ½æ€§ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¯èƒ½æ˜¯å¾®ä¿¡SDKå‘äº†ä¸ªç½‘ç»œè¯·æ±‚æ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ã€‚ä½†æŠ“åŒ…åå¹¶æ²¡æœ‰&lt;/li&gt;
  &lt;li&gt;å¾®ä¿¡å‘ç›®æ ‡Appä¸­çš„è¿›ç¨‹åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚ä½†iOSçš„ä¿æŠ¤æœºåˆ¶åº”è¯¥æ²¡é‚£ä¹ˆå®¹æ˜“åšåˆ°ï¼Œèµ·ç ç›®å‰æ²¡æƒ³åˆ°å¯ä»¥ç»•å¼€æƒé™çš„&lt;/li&gt;
  &lt;li&gt;Appé—´è¿›è¡Œsocketé€šä¿¡ï¼Œä½†è€ƒè™‘åˆ°éœ€è¦èµ·æœåŠ¡ã€ä¿æ´»ç­‰å› ç´ æ„Ÿè§‰ä¹Ÿä¸æ˜¯å¤ªå¯èƒ½&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;è°ƒæŸ¥&quot;&gt;è°ƒæŸ¥&lt;/h2&gt;

&lt;p&gt;æ²¡åŠæ³•äº†ï¼Œåªèƒ½å»è°ƒæŸ¥ä¸‹SDKçš„é™æ€åº“äº†ï¼Œç”¨Hopperæ‰“å¼€åï¼Œçœ‹äº†å‡ ä¸ªç±»çš„æ–¹æ³•åï¼Œç»ˆäºæ‰¾åˆ°äº†ä¸€ä¸ªæ–¹æ³•æ„Ÿè§‰å¾ˆåƒï¼Œå¹¶ä¸”ç»™äººè±ç„¶å¼€æœ—çš„æ„Ÿè§‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/media//15535958910573.jpg&quot; alt=&quot;-w1679&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å°±æ˜¯è¿™ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[WXOMTAOpenUDID _getDictFromPasteboard:]&lt;/code&gt; æ–¹æ³•ï¼&lt;/p&gt;

&lt;p&gt;æœ‰æ„æ€ï¼ŒçŒœæµ‹å¯ä»¥é€šè¿‡å‰ªåˆ‡æ¿å°†éœ€è¦çš„ä¿¡æ¯ä¼ é€’è¿‡æ¥ï¼Œåœ¨Appä¸­è·å–åå†åšå¥½å¤„ç†å°±OKäº†ã€‚é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯éªŒè¯äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app-parameter&lt;/code&gt; ä¸­çº¿ä¼ æ•°æ®Aä¸¤æ¬¡ï¼Œç„¶åä¼ ä¸€æ¬¡æ•°æ®Bï¼Œæœ€åå†ä¼ ä¸€æ¬¡Aï¼Œç„¶åæˆ‘åœ¨Appä¸­å¯ä»¥ä»å‰ªåˆ‡æ¿ä¸­( &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[UIPasteboard generalPasteboard].items[0][@&quot;context&quot;]&lt;/code&gt; )è·å–åˆ°ä»¥ä¸‹çš„æ•°æ®ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/media//15535967774203.jpg&quot; alt=&quot;-w914&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œç¬¬ 1ã€2ã€4çš„å‰ªåˆ‡æ¿æ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œç¬¬3æ¬¡ä¸ä¸€æ ·ã€‚è¿™é‡Œå°±å¯ä»¥çŒœæµ‹å‡ºæ¥çš„ç¡®æ˜¯ç”¨çš„å‰ªåˆ‡æ¿äº†ğŸ˜†&lt;/p&gt;

&lt;p&gt;ä¸‹é¢å°†æ•°æ®è½¬æ¢ä¸€ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/media//15535965424547.jpg&quot; alt=&quot;-w549&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¢«åœˆå‡ºæ¥çš„åœ°æ–¹å°±æ˜¯æˆ‘ä¹‹å‰å°ç¨‹åºä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app-parameter&lt;/code&gt; ä¸­ä¼ è¿‡æ¥çš„å€¼ã€‚&lt;/p&gt;

&lt;p&gt;OKï¼Œç ´æ¡ˆã€‚&lt;/p&gt;</content><author><name>Riccardo Graziosi</name></author><category term="iOS" /><summary type="html">é—®é¢˜æè¿°</summary></entry></feed>